name: Activity types workflow
on:
  push:
    branches: 
    - develop
  workflow_dispatch:
env:
  MAX_FILE_SIZE: 1048576 # 1 MB
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: output event data
        run: echo "${{ toJSON(github.event) }}"
      - name: checkout
        uses: actions/checkout@v3
      - name: Install Dependencies
        run: npm ci
      - name: Build Project
        run: npm run build
      - name: Deploy
        run: echo "Deploying..."
      - name: Check for zero-length models
        run: |
          found=0
          find -name '*.mps' -size 0 | while read FILE; do echo "::error file=$FILE::File is empty"; found=1; done
          exit $found
          shell: bash
